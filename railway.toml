# Railway configuration for monorepo starting from ROOT
# This ensures workspace dependencies are correctly built.

[[services]]
name = "app"
source = "."
build.command = "npm install && npm run build -w apps/app"
start.command = "node apps/app/build/index.js"

[[services]]
name = "worker"
source = "."
build.command = "npm install && npm run build -w apps/worker"
start.command = "node apps/worker/dist/index.js"

[[services]]
name = "redis"
image = "redis:7-alpine"
