[build]
builder = "nixpacks"
# Using pnpm@8.15.4 as specified in root package.json
buildCommand = "pnpm install && pnpm build"

[services.app]
# UniConnect Main SvelteKit Application
startCommand = "node apps/app/build"
healthcheckPath = "/api/health"
healthcheckTimeout = 100
healthcheckInterval = 30

[services.worker]
# Background Job Worker
startCommand = "node apps/worker/dist"
healthcheckPath = "/api/health"
healthcheckTimeout = 100
healthcheckInterval = 30
