# Railway configuration for monorepo starting from ROOT
# This ensures workspace dependencies are correctly built.

[[services]]
name = "app"
source = "."
start.command = "node apps/app/build/index.js"

[[services]]
name = "worker"
source = "."
start.command = "node apps/worker/dist/index.js"

[[services]]
name = "extractor"
source = "."
build.command = "pip install -r requirements.txt"
start.command = "gunicorn --bind 0.0.0.0:$PORT template_extractor:app"

[[services]]
name = "redis"
image = "redis:7-alpine"
