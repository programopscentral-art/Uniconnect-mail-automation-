# Railway configuration for monorepo starting from ROOT
# This ensures workspace dependencies are correctly built.

[[services]]
name = "app"
source = "."
start.command = "PORT=5000 python3 template_extractor.py & node apps/app/build/index.js"

[[services]]
name = "worker"
source = "."
start.command = "node apps/worker/dist/index.js"

[[services]]
name = "extractor"
source = "."
build.command = "pip install -r requirements.txt"
start.command = "python template_extractor.py"

[[services]]
name = "redis"
image = "redis:7-alpine"
